var todoItem = document.getElementById("<%= @todo_item.id %>");
var todoItems = document.getElementById('todo-items');
var todoText = todoItem.querySelector('.todo-text');
var completeBtn = todoItem.querySelector('button[name="todo_item[completed]"]');

var clearForm = document.querySelector('[action="<%= clear_todo_list_todo_items_path(@todo_list) %>"]');
var clearBtn = clearForm.querySelector('input[type="submit"]');

todoItems.addEventListener('ajax:success', function() {
  if (<%= any_completed?(@todo_list.todo_items) %>) {
    clearBtn.removeAttribute('disabled');
    clearBtn.classList.add('clickable');
  } else {
    clearBtn.setAttribute('disabled', true);
    clearBtn.classList.remove('clickable');
  }
});

todoText.classList.toggle('completed');

completeBtn.classList.toggle('btn-info');
completeBtn.classList.toggle('btn-outline-info');
